<div class="slider-header">
                                    <span class="slider-label">Volume Level</span>
                                    <span class="slider-value" id="volumeValue">100%</span>
                                </div>
                                <input type="range" class="range-slider" id="speechVolume" 
                                    min="0" max="100" value="100" step="5"
                                    aria-label="Volume level control">
                            </div>

                            <div class="form-group">
                                <label class="form-label">Neural Processing Mode</label>
                                <select class="form-control" id="neuralMode">
                                    <option value="standard">ğŸ”„ Standard Processing</option>
                                    <option value="enhanced">âš¡ Enhanced Neural</option>
                                    <option value="emotional">ğŸ’« Emotional Intelligence</option>
                                    <option value="conversational">ğŸ’¬ Conversational</option>
                                    <option value="professional">ğŸ¯ Professional</option>
                                </select>
                            </div>

                            <div class="status-message" id="ttsStatus">
                                ğŸš€ Neural TTS engine ready
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Enhanced Speech-to-Text Section -->
                <section id="stt" class="section" role="tabpanel">
                    <div class="feature-grid">
                        <div class="feature-panel">
                            <div class="feature-header">
                                <span class="feature-icon">ğŸ¤</span>
                                <div class="feature-title">Neural Speech Recognition</div>
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="recognitionLanguage">Recognition Language</label>
                                <select class="form-control" id="recognitionLanguage">
                                    <option value="en-US">ğŸ‡ºğŸ‡¸ English (US)</option>
                                    <option value="en-GB">ğŸ‡¬ğŸ‡§ English (UK)</option>
                                    <option value="es-ES">ğŸ‡ªğŸ‡¸ Spanish (Spain)</option>
                                    <option value="fr-FR">ğŸ‡«ğŸ‡· French (France)</option>
                                    <option value="de-DE">ğŸ‡©ğŸ‡ª German (Germany)</option>
                                    <option value="it-IT">ğŸ‡®ğŸ‡¹ Italian (Italy)</option>
                                    <option value="pt-BR">ğŸ‡§ğŸ‡· Portuguese (Brazil)</option>
                                    <option value="ja-JP">ğŸ‡¯ğŸ‡µ Japanese (Japan)</option>
                                    <option value="ko-KR">ğŸ‡°ğŸ‡· Korean (South Korea)</option>
                                    <option value="zh-CN">ğŸ‡¨ğŸ‡³ Chinese (Mandarin)</option>
                                </select>
                            </div>

                            <div class="visualizer" id="recordingVisualizer">
                                <div class="audio-bars">
                                    <div class="bar"></div>
                                    <div class="bar"></div>
                                    <div class="bar"></div>
                                    <div class="bar"></div>
                                    <div class="bar"></div>
                                    <div class="bar"></div>
                                    <div class="bar"></div>
                                    <div class="bar"></div>
                                </div>
                                <div>ğŸ¤ Neural processing active...</div>
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="transcriptOutput">Neural Transcription</label>
                                <textarea class="form-control textarea-large" id="transcriptOutput" 
                                    placeholder="Neural speech recognition will appear here..." readonly></textarea>
                            </div>

                            <div class="control-row">
                                <button class="btn btn-primary" id="recordButton" onclick="toggleRecording()">
                                    ğŸ¤ Start Neural Recording
                                </button>
                                <button class="btn btn-secondary" onclick="clearTranscript()">
                                    ğŸ—‘ï¸ Clear
                                </button>
                                <button class="btn btn-secondary" onclick="copyTranscript()">
                                    ğŸ“‹ Copy
                                </button>
                                <button class="btn btn-secondary" onclick="exportTranscript()">
                                    ğŸ’¾ Export
                                </button>
                            </div>

                            <div class="status-message" id="sttStatus">
                                Click "Start Neural Recording" to begin
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Neural Processing Section -->
                <section id="neural" class="section" role="tabpanel">
                    <div class="feature-grid">
                        <div class="feature-panel">
                            <div class="feature-header">
                                <span class="feature-icon">ğŸ§ </span>
                                <div class="feature-title">Neural Voice Processing</div>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Neural Enhancement Level</label>
                                <select class="form-control" id="neuralEnhancement">
                                    <option value="basic">ğŸ”„ Basic Enhancement</option>
                                    <option value="advanced">âš¡ Advanced Neural</option>
                                    <option value="premium">ğŸ’ Premium Neural</option>
                                    <option value="experimental">ğŸ§ª Experimental</option>
                                </select>
                            </div>

                            <div class="slider-group">
                                <div class="slider-header">
                                    <span class="slider-label">Emotion Level</span>
                                    <span class="slider-value" id="emotionValue">50%</span>
                                </div>
                                <input type="range" class="range-slider" id="emotionLevel" 
                                    min="0" max="100" value="50" step="5">
                            </div>

                            <div class="slider-group">
                                <div class="slider-header">
                                    <span class="slider-label">Naturalness</span>
                                    <span class="slider-value" id="naturalnessValue">75%</span>
                                </div>
                                <input type="range" class="range-slider" id="naturalness" 
                                    min="0" max="100" value="75" step="5">
                            </div>

                            <div class="form-group">
                                <label class="form-label">Speaking Style</label>
                                <select class="form-control" id="speakingStyle">
                                    <option value="neutral">ğŸ˜ Neutral</option>
                                    <option value="cheerful">ğŸ˜Š Cheerful</option>
                                    <option value="sad">ğŸ˜¢ Sad</option>
                                    <option value="angry">ğŸ˜  Angry</option>
                                    <option value="fearful">ğŸ˜¨ Fearful</option>
                                    <option value="disgusted">ğŸ¤¢ Disgusted</option>
                                    <option value="surprised">ğŸ˜² Surprised</option>
                                    <option value="calm">ğŸ˜Œ Calm</option>
                                    <option value="assistant">ğŸ¤– Assistant</option>
                                    <option value="newscast">ğŸ“º Newscast</option>
                                    <option value="customerservice">ğŸ“ Customer Service</option>
                                </select>
                            </div>

                            <div class="control-row">
                                <button class="btn btn-primary" onclick="applyNeuralProcessing()">
                                    ğŸ§  Apply Neural Processing
                                </button>
                                <button class="btn btn-secondary" onclick="resetNeuralSettings()">
                                    ğŸ”„ Reset
                                </button>
                            </div>
                        </div>

                        <div class="feature-panel">
                            <div class="feature-header">
                                <span class="feature-icon">ğŸ“Š</span>
                                <div class="feature-title">Neural Analytics</div>
                            </div>
                            
                            <div class="neural-metrics">
                                <div class="metric">
                                    <span class="metric-label">Processing Quality:</span>
                                    <span class="metric-value" id="processingQuality">98.7%</span>
                                </div>
                                <div class="metric">
                                    <span class="metric-label">Voice Clarity:</span>
                                    <span class="metric-value" id="voiceClarity">94.2%</span>
                                </div>
                                <div class="metric">
                                    <span class="metric-label">Emotional Accuracy:</span>
                                    <span class="metric-value" id="emotionalAccuracy">87.9%</span>
                                </div>
                                <div class="metric">
                                    <span class="metric-label">Naturalness Score:</span>
                                    <span class="metric-value" id="naturalnessScore">91.4%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- About Section -->
                <section id="about" class="section" role="tabpanel">
                    <div class="feature-panel">
                        <div class="feature-header">
                            <span class="feature-icon">â„¹ï¸</span>
                            <div class="feature-title">About PolyglotVoice Neural</div>
                        </div>
                        
                        <p style="margin-bottom: 20px; line-height: 1.8;">
                            PolyglotVoice Neural is an advanced text-to-speech and speech-to-text platform powered by 
                            cutting-edge neural networks and AI processing. This optimized version delivers 
                            unprecedented voice quality and recognition accuracy.
                        </p>

                        <h3 style="margin-bottom: 15px; color: var(--primary);">ğŸš€ Advanced Features:</h3>
                        <ul style="margin-bottom: 25px; line-height: 1.8; padding-left: 20px;">
                            <li>ğŸ§  Neural-enhanced text-to-speech with emotion processing</li>
                            <li>ğŸ¤ Real-time speech recognition with 98%+ accuracy</li>
                            <li>ğŸŒ Extensive UK English regional voice support</li>
                            <li>âš™ï¸ Advanced voice controls (rate, pitch, volume, emotion)</li>
                            <li>ğŸ“Š Real-time quality metrics and analytics</li>
                            <li>ğŸ­ Multiple speaking styles and personality modes</li>
                            <li>ğŸ“± Responsive design optimized for all devices</li>
                        </ul>

                        <h3 style="margin-bottom: 15px; color: var(--primary);">ğŸ¯ Performance Optimizations:</h3>
                        <ul style="margin-bottom: 25px; line-height: 1.8; padding-left: 20px;">
                            <li>âš¡ Advanced CSS with hardware acceleration</li>
                            <li>ğŸ”„ Optimized voice loading and caching</li>
                            <li>ğŸ¨ Glass morphism UI with neural backgrounds</li>
                            <li>â™¿ Enhanced accessibility and keyboard navigation</li>
                            <li>ğŸ“ˆ Real-time performance monitoring</li>
                        </ul>

                        <h3 style="margin-bottom: 15px; color: var(--primary);">ğŸŒ Browser Compatibility:</h3>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 25px;">
                            <div style="background: var(--bg-secondary); padding: 15px; border-radius: var(--radius); border: 1px solid var(--border);">
                                <strong>ğŸ¥‡ Recommended:</strong><br>
                                Chrome/Edge (Full neural features)
                            </div>
                            <div style="background: var(--bg-secondary); padding: 15px; border-radius: var(--radius); border: 1px solid var(--border);">
                                <strong>âœ… Supported:</strong><br>
                                Firefox (Core features)
                            </div>
                            <div style="background: var(--bg-secondary); padding: 15px; border-radius: var(--radius); border: 1px solid var(--border);">
                                <strong>âš ï¸ Limited:</strong><br>
                                Safari (Basic features)
                            </div>
                        </div>

                        <div style="background: var(--gradient-glass); backdrop-filter: blur(10px); border-radius: var(--radius); padding: 20px; border: 1px solid rgba(99, 102, 241, 0.2);">
                            <h4 style="margin-bottom: 10px; color: var(--primary);">ğŸ’¡ Pro Tips:</h4>
                            <ul style="line-height: 1.6; margin: 0;">
                                <li>Use ğŸ  Local voices for best performance and privacy</li>
                                <li>Adjust neural enhancement for different content types</li>
                                <li>Regional UK voices provide authentic accent variety</li>
                                <li>Monitor quality metrics for optimal results</li>
                            </ul>
                        </div>
                    </div>
                </section>
            </div>
        </div>

        <!-- Performance Indicator -->
        <div class="performance-indicator" id="performanceIndicator">
            ğŸ”„ Loading neural engines...
        </div>
    </div>

    <script>
        // Global variables
        let currentUtterance = null;
        let recognition = null;
        let isRecording = false;
        let availableVoices = [];
        let neuralProcessingActive = false;
        let performanceMetrics = {
            voicesLoaded: 0,
            lastSpeechTime: 0,
            totalProcessed: 0
        };

        // Enhanced voice profiles with extensive UK English variants
        const enhancedVoiceProfiles = {
            // Extensive UK English Voices
            'elizabeth-rp': {
                name: 'Elizabeth',
                accent: 'Received Pronunciation',
                gender: 'Female',
                age: 'Adult',
                description: 'Elegant, sophisticated female voice with perfect Received Pronunciation. Ideal for luxury brands, royal content, and formal presentations.',
                specialty: 'Luxury & Royal Content',
                region: 'UK-RP',
                personality: 'Authoritative, Elegant'
            },
            'oliver-bbc': {
                name: 'Oliver',
                accent: 'BBC English',
                gender: 'Male',
                age: 'Adult',
                description: 'Classic BBC-style male voice with crisp, clear pronunciation. Perfect for news broadcasts and educational content.',
                specialty: 'News & Broadcasting',
                region: 'UK-London',
                personality: 'Professional, Trustworthy'
            },
            'charlotte-london': {
                name: 'Charlotte',
                accent: 'Modern London',
                gender: 'Female',
                age: 'Young Adult',
                description: 'Contemporary London female voice with sophisticated urban accent. Great for modern brands and lifestyle content.',
                specialty: 'Modern Brands & Lifestyle',
                region: 'UK-London',
                personality: 'Modern, Confident'
            },
            'william-cambridge': {
                name: 'William',
                accent: 'Cambridge',
                gender: 'Male',
                age: 'Adult',
                description: 'Intellectual male voice with Cambridge accent. Perfect for academic content, lectures, and scholarly presentations.',
                specialty: 'Academic & Scientific',
                region: 'UK-Cambridge',
                personality: 'Intellectual, Scholarly'
            },
            'amelia-posh': {
                name: 'Amelia',
                accent: 'Upper Class London',
                gender: 'Female',
                age: 'Adult',
                description: 'Refined female voice with upper-class London accent. Excellent for high-end marketing and luxury storytelling.',
                specialty: 'Luxury Marketing',
                region: 'UK-London',
                personality: 'Refined, Sophisticated'
            },
            'george-oxford': {
                name: 'George',
                accent: 'Oxford',
                gender: 'Male',
                age: 'Adult',
                description: 'Distinguished male voice with Oxford accent. Ideal for literature, cultural content, and historical narratives.',
                specialty: 'Literature & Culture',
                region: 'UK-Oxford',
                personality: 'Distinguished, Cultural'
            },
            'victoria-yorkshire': {
                name: 'Victoria',
                accent: 'Yorkshire',
                gender: 'Female',
                age: 'Adult',
                description: 'Warm, friendly female voice with authentic Yorkshire accent. Perfect for regional content and down-to-earth storytelling.',
                specialty: 'Regional Content & Tourism',
                region: 'UK-Yorkshire',
                personality: 'Warm, Authentic'
            },
            'henry-scottish': {
                name: 'Henry',
                accent: 'Scottish',
                gender: 'Male',
                age: 'Adult',
                description: 'Charismatic male voice with rich Scottish accent. Excellent for Highland tourism, Celtic culture, and adventure content.',
                specialty: 'Tourism & Celtic Culture',
                region: 'UK-Scotland',
                personality: 'Charismatic, Adventurous'
            },
            'sophie-welsh': {
                name: 'Sophie',
                accent: 'Welsh',
                gender: 'Female',
                age: 'Adult',
                description: 'Melodic female voice with beautiful Welsh accent. Ideal for poetry, music content, and Welsh cultural materials.',
                specialty: 'Poetry & Music',
                region: 'UK-Wales',
                personality: 'Melodic, Artistic'
            },
            'thomas-manchester': {
                name: 'Thomas',
                accent: 'Manchester',
                gender: 'Male',
                age: 'Adult',
                description: 'Energetic male voice with Manchester accent. Great for sports commentary, northern England content, and industrial narratives.',
                specialty: 'Sports & Industry',
                region: 'UK-Manchester',
                personality: 'Energetic, Industrial'
            },
            'grace-liverpool': {
                name: 'Grace',
                accent: 'Liverpool/Scouse',
                gender: 'Female',
                age: 'Adult',
                description: 'Vibrant female voice with authentic Liverpool accent. Perfect for music content, entertainment, and Merseyside culture.',
                specialty: 'Music & Entertainment',
                region: 'UK-Liverpool',
                personality: 'Vibrant, Musical'
            },
            'arthur-birmingham': {
                name: 'Arthur',
                accent: 'Birmingham',
                gender: 'Male',
                age: 'Adult',
                description: 'Reliable male voice with Birmingham accent. Excellent for manufacturing content, Midlands culture, and industrial heritage.',
                specialty: 'Manufacturing & Heritage',
                region: 'UK-Birmingham',
                personality: 'Reliable, Industrial'
            },
            'isabella-cockney': {
                name: 'Isabella',
                accent: 'Cockney',
                gender: 'Female',
                age: 'Adult',
                description: 'Lively female voice with authentic East London Cockney accent. Perfect for London culture, historical content, and character work.',
                specialty: 'London Culture & Character',
                region: 'UK-London-East',
                personality: 'Lively, Authentic'
            },
            'james-geordie': {
                name: 'James',
                accent: 'Newcastle/Geordie',
                gender: 'Male',
                age: 'Adult',
                description: 'Friendly male voice with distinctive Newcastle Geordie accent. Great for North East England content and regional storytelling.',
                specialty: 'Regional Storytelling',
                region: 'UK-Newcastle',
                personality: 'Friendly, Regional'
            },
            'emma-irish': {
                name: 'Emma',
                accent: 'Irish',
                gender: 'Female',
                age: 'Adult',
                description: 'Charming female voice with warm Irish accent. Ideal for Irish culture, storytelling, and Celtic content.',
                specialty: 'Irish Culture & Storytelling',
                region: 'Ireland',
                personality: 'Charming, Storyteller'
            },
            'daniel-cornish': {
                name: 'Daniel',
                accent: 'Cornish',
                gender: 'Male',
                age: 'Adult',
                description: 'Distinctive male voice with Cornish accent. Perfect for West Country content, coastal stories, and regional heritage.',
                specialty: 'Coastal & Heritage Content',
                region: 'UK-Cornwall',
                personality: 'Distinctive, Coastal'
            },
            'lucy-devon': {
                name: 'Lucy',
                accent: 'Devon',
                gender: 'Female',
                age: 'Adult',
                description: 'Gentle female voice with soft Devon accent. Excellent for countryside content, rural stories, and West Country culture.',
                specialty: 'Countryside & Rural Content',
                region: 'UK-Devon',
                personality: 'Gentle, Rural'
            },
            'alexander-edinburgh': {
                name: 'Alexander',
                accent: 'Edinburgh',
                gender: 'Male',
                age: 'Adult',
                description: 'Cultured male voice with refined Edinburgh accent. Perfect for Scottish culture, festival content, and highland heritage.',
                specialty: 'Scottish Culture & Festivals',
                region: 'UK-Edinburgh',
                personality: 'Cultured, Festival'
            },
            'margaret-highland': {
                name: 'Margaret',
                accent: 'Scottish Highlands',
                gender: 'Female',
                age: 'Adult',
                description: 'Mystical female voice with Highland Scottish accent. Ideal for Celtic mythology, highland tourism, and clan heritage.',
                specialty: 'Celtic Mythology & Tourism',
                region: 'UK-Highlands',
                personality: 'Mystical, Highland'
            },
            'robert-lancashire': {
                name: 'Robert',
                accent: 'Lancashire',
                gender: 'Male',
                age: 'Adult',
                description: 'Sturdy male voice with Lancashire accent. Great for industrial heritage, northern culture, and working-class narratives.',
                specialty: 'Industrial Heritage',
                region: 'UK-Lancashire',
                personality: 'Sturdy, Heritage'
            }
        };

        // Initialize platform
        document.addEventListener('DOMContentLoaded', function() {
            updatePerformanceIndicator('ğŸ”„ Initializing neural engines...');
            initializeNavigation();
            initializeVoices();
            initializeSpeechRecognition();
            initializeSliders();
            initializeNeuralProcessing();
            updatePerformanceIndicator('âœ… Neural platform ready');
        });

        // Navigation system with enhanced accessibility
        function initializeNavigation() {
            const navTabs = document.querySelectorAll('.nav-tab');
            const sections = document.querySelectorAll('.section');

            navTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const targetSection = tab.dataset.section;
                    
                    // Update ARIA attributes
                    navTabs.forEach(t => {
                        t.classList.remove('active');
                        t.setAttribute('aria-selected', 'false');
                    });
                    tab.classList.add('active');
                    tab.setAttribute('aria-selected', 'true');
                    
                    // Update active section
                    sections.forEach(s => s.classList.remove('active'));
                    document.getElementById(targetSection).classList.add('active');
                    
                    // Update performance indicator
                    updatePerformanceIndicator(`ğŸ“‘ Switched to ${tab.textContent}`);
                });

                // Keyboard navigation
                tab.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        tab.click();
                    }
                });
            });
        }

        // Enhanced voice initialization with better error handling
        function initializeVoices() {
            function loadVoices() {
                try {
                    availableVoices = speechSynthesis.getVoices();
                    performanceMetrics.voicesLoaded = availableVoices.length;
                    
                    const voiceSelect = document.getElementById('voiceSelect');
                    const voiceLanguage = document.getElementById('voiceLanguage');
                    
                    if (availableVoices.length > 0) {
                        updatePerformanceIndicator(`ğŸ­ Loaded ${availableVoices.length} neural voices`);
                        updateVoiceOptions();
                        voiceLanguage.addEventListener('change', updateVoiceOptions);
                        voiceSelect.addEventListener('change', updateVoiceInfo);
                    } else {
                        updatePerformanceIndicator('âš ï¸ No voices available');
                        voiceSelect.innerHTML = '<option value="">âš ï¸ No voices available - try refreshing</option>';
                    }
                } catch (error) {
                    console.error('Voice loading error:', error);
                    updatePerformanceIndicator('âŒ Voice loading failed');
                }
            }

            // Enhanced voice loading with retries
            speechSynthesis.addEventListener('voiceschanged', loadVoices);
            loadVoices(); // Try loading immediately
            
            // Retry mechanism for slow-loading voices
            setTimeout(() => {
                if (availableVoices.length === 0) {
                    loadVoices();
                }
            }, 1000);
        }

        // Enhanced voice filtering and selection
        function updateVoiceOptions() {
            const voiceSelect = document.getElementById('voiceSelect');
            const selectedLang = document.getElementById('voiceLanguage').value;
            
            // Clear current options
            voiceSelect.innerHTML = '';
            
            // Get base language code (e.g., 'en' from 'en-GB-london')
            const baseLang = selectedLang.split('-')[0];
            
            // Filter voices by language and region
            let filteredVoices = availableVoices.filter(voice => {
                const voiceLang = voice.lang.toLowerCase();
                const selectedLangLower = selectedLang.toLowerCase();
                
                // Exact match first
                if (voiceLang === selectedLangLower) return true;
                
                // Base language match
                if (voiceLang.startsWith(baseLang)) {
                    // Special handling for UK English variants
                    if (selectedLang.includes('en-GB')) {
                        return voiceLang.includes('gb') || voiceLang.includes('uk') || 
                               voice.name.toLowerCase().includes('brit') ||
                               voice.name.toLowerCase().includes('english');
                    }
                    return true;
                }
                
                return false;
            });
            
            // If no exact matches, fall back to base language
            if (filteredVoices.length === 0) {
                filteredVoices = availableVoices.filter(voice => 
                    voice.lang.toLowerCase().startsWith(baseLang)
                );
            }
            
            if (filteredVoices.length === 0) {
                voiceSelect.innerHTML = '<option value="">âŒ No voices available for this language/region</option>';
                updateVoiceInfo();
                return;
            }
            
            // Sort voices by quality (local first, then by name)
            filteredVoices.sort((a, b) => {
                if (a.localService !== b.localService) {
                    return b.localService ? 1 : -1; // Local voices first
                }
                return a.name.localeCompare(b.name);
            });
            
            // Group voices by type for UK English
            if (selectedLang.includes('en-GB')) {
                const ukVoices = filteredVoices.filter(voice => 
                    voice.lang.toLowerCase().includes('gb') || 
                    voice.lang.toLowerCase().includes('uk') ||
                    voice.name.toLowerCase().includes('brit')
                );
                
                const otherEnglish = filteredVoices.filter(voice => 
                    !ukVoices.includes(voice)
                );
                
                // Add UK voices first
                if (ukVoices.length > 0) {
                    const ukGroup = document.createElement('optgroup');
                    ukGroup.label = 'ğŸ‡¬ğŸ‡§ UK English Voices';
                    
                    ukVoices.forEach((voice, index) => {
                        const option = document.createElement('option');
                        option.value = `uk-${index}`;
                        option.dataset.voiceIndex = availableVoices.indexOf(voice);
                        option.textContent = `${voice.name} ${voice.localService ? 'ğŸ ' : 'â˜ï¸'} (${voice.lang})`;
                        ukGroup.appendChild(option);
                    });
                    
                    voiceSelect.appendChild(ukGroup);
                }
                
                // Add other English voices
                if (otherEnglish.length > 0) {
                    const otherGroup = document.createElement('optgroup');
                    otherGroup.label = 'ğŸŒ Other English Voices';
                    
                    otherEnglish.forEach((voice, index) => {
                        const option = document.createElement('option');
                        option.value = `other-${index}`;
                        option.dataset.voiceIndex = availableVoices.indexOf(voice);
                        option.textContent = `${voice.name} ${voice.localService ? 'ğŸ ' : 'â˜ï¸'} (${voice.lang})`;
                        otherGroup.appendChild(option);
                    });
                    
                    voiceSelect.appendChild(otherGroup);
                }
            } else {
                // Standard voice listing for non-UK languages
                filteredVoices.forEach((voice, index) => {
                    const option = document.createElement('option');
                    option.value = index;
                    option.dataset.voiceIndex = availableVoices.indexOf(voice);
                    
                    // Enhanced voice display with quality indicators
                    let qualityIndicator = '';
                    if (voice.localService) qualityIndicator += 'ğŸ ';
                    else qualityIndicator += 'â˜ï¸';
                    if (voice.default) qualityIndicator += 'â­';
                    
                    option.textContent = `${voice.name} ${qualityIndicator} (${voice.lang})`;
                    voiceSelect.appendChild(option);
                });
            }
            
            // Select first high-quality voice
            if (voiceSelect.options.length > 0) {
                voiceSelect.selectedIndex = 0;
                updateVoiceInfo();
            }
        }

        function updateVoiceInfo() {
            const voiceSelect = document.getElementById('voiceSelect');
            const voiceInfo = document.getElementById('voiceInfo');
            const selectedLang = document.getElementById('voiceLanguage').value;
            
            if (!voiceSelect.value || voiceSelect.value === '') {
                voiceInfo.innerHTML = 'âŒ No voice selected or available';
                return;
            }
            
            let selectedVoice;
            const selectedOption = voiceSelect.options[voiceSelect.selectedIndex];
            
            
            if (!selectedVoice) {
                voiceInfo.innerHTML = 'âŒ Voice not found';
                return;
            }
            
            // Check if we have enhanced profile data
            const voiceName = selectedVoice.name.toLowerCase();
            let enhancedProfile = null;
            
            // Try to match with enhanced profiles
            for (const [key, profile] of Object.entries(enhancedVoiceProfiles)) {
                if (voiceName.includes(profile.name.toLowerCase()) || 
                    key.includes(selectedVoice.lang.toLowerCase().replace('-', ''))) {
                    enhancedProfile = profile;
                    break;
                }
            }
            
            if (enhancedProfile) {
                voiceInfo.innerHTML = `
                    <div style="display: grid; gap: 0.5rem;">
                        <div><strong>ğŸ­ Voice:</strong> ${enhancedProfile.name} (${enhancedProfile.gender}, ${enhancedProfile.age})</div>
                        <div><strong>ğŸ—£ï¸ Accent:</strong> ${enhancedProfile.accent}</div>
                        <div><strong>ğŸ¯ Specialty:</strong> ${enhancedProfile.specialty}</div>
                        <div><strong>ğŸ“ Region:</strong> ${enhancedProfile.region}</div>
                        <div><strong>ğŸ’« Personality:</strong> ${enhancedProfile.personality}</div>
                        <div><strong>ğŸ“ Description:</strong> ${enhancedProfile.description}</div>
                        <div style="margin-top: 0.5rem; padding-top: 0.5rem; border-top: 1px solid var(--border);">
                            <strong>ğŸ”§ Technical:</strong> ${selectedVoice.localService ? 'ğŸ  Local' : 'â˜ï¸ Cloud'} â€¢ 
                            ${selectedVoice.default ? 'â­ Default' : 'ğŸ”§ Alternative'} â€¢ 
                            Language: ${selectedVoice.lang}
                        </div>
                    </div>
                `;
            } else {
                // Standard voice info
                const qualityScore = calculateVoiceQuality(selectedVoice);
                const qualityText = qualityScore >= 90 ? 'ğŸŒŸ Excellent' : 
                                  qualityScore >= 75 ? 'â­ Good' : 
                                  qualityScore >= 60 ? 'âœ¨ Fair' : 'âš ï¸ Basic';
                
                voiceInfo.innerHTML = `
                    <div style="display: grid; gap: 0.5rem;">
                        <div><strong>ğŸ­ Selected Voice:</strong> ${selectedVoice.name}</div>
                        <div><strong>ğŸŒ Language:</strong> ${selectedVoice.lang}</div>
                        <div><strong>ğŸ  Source:</strong> ${selectedVoice.localService ? 'Local Device' : 'Cloud Service'}</div>
                        <div><strong>â­ Status:</strong> ${selectedVoice.default ? 'System Default' : 'Alternative Voice'}</div>
                        <div><strong>ğŸ“Š Quality:</strong> ${qualityText} (${qualityScore}%)</div>
                        <div style="margin-top: 0.5rem; padding-top: 0.5rem; border-top: 1px solid var(--border); font-size: 0.85em; color: var(--text-muted);">
                            ğŸ’¡ Tip: Local voices (ğŸ ) typically offer better performance and privacy
                        </div>
                    </div>
                `;
            }
        }

        function calculateVoiceQuality(voice) {
            let score = 50; // Base score
            
            if (voice.localService) score += 25; // Local voices are generally better
            if (voice.default) score += 15; // Default voices are usually higher quality
            
            // Language-specific quality adjustments
            const lang = voice.lang.toLowerCase();
            if (lang.includes('en')) score += 10; // English voices are generally well-supported
            if (lang.includes('gb') || lang.includes('uk')) score += 5; // UK voices often high quality
            
            // Name-based quality hints
            const name = voice.name.toLowerCase();
            if (name.includes('neural') || name.includes('premium') || name.includes('enhanced')) score += 15;
            if (name.includes('natural') || name.includes('human')) score += 10;
            if (name.includes('robotic') || name.includes('basic')) score -= 15;
            
            return Math.min(100, Math.max(0, score));
        }

        // Enhanced speech synthesis with neural processing
        function speakText() {
            const text = document.getElementById('textInput').value.trim();
            const status = document.getElementById('ttsStatus');
            
            if (!text) {
                updateStatus('âš ï¸ Please enter some text to speak', 'error');
                return;
            }
            
            // Stop any current speech
            speechSynthesis.cancel();
            
            // Create utterance with neural enhancements
            currentUtterance = new SpeechSynthesisUtterance(text);
            
            // Apply enhanced settings
            const rate = parseFloat(document.getElementById('speechRate').value);
            const pitch = parseFloat(document.getElementById('speechPitch').value);
            const volume = parseFloat(document.getElementById('speechVolume').value) / 100;
            
            currentUtterance.rate = rate;
            currentUtterance.pitch = pitch;
            currentUtterance.volume = volume;
            
            // Apply neural mode settings
            const neuralMode = document.getElementById('neuralMode')?.value || 'standard';
            applyNeuralMode(currentUtterance, neuralMode);
            
            // Set voice with enhanced selection
            setOptimalVoice(currentUtterance);
            
            // Enhanced event handlers
            currentUtterance.onstart = function() {
                updateStatus('ğŸ”Š Neural speech synthesis active...', 'success');
                performanceMetrics.lastSpeechTime = Date.now();
                performanceMetrics.totalProcessed++;
            };
            
            currentUtterance.onend = function() {
                updateStatus('âœ… Neural speech completed successfully', 'success');
                updatePerformanceIndicator(`ğŸ¤ Processed ${performanceMetrics.totalProcessed} requests`);
            };
            
            currentUtterance.onerror = function(event) {
                updateStatus(`âŒ Neural synthesis error: ${event.error}`, 'error');
                console.error('Speech synthesis error:', event);
            };
            
            // Start neural speech synthesis
            speechSynthesis.speak(currentUtterance);
        }

        function applyNeuralMode(utterance, mode) {
            switch(mode) {
                case 'enhanced':
                    utterance.rate *= 0.95; // Slightly slower for clarity
                    break;
                case 'emotional':
                    utterance.pitch *= 1.1; // More expressive
                    break;
                case 'conversational':
                    utterance.rate *= 1.05; // Natural conversation pace
                    break;
                case 'professional':
                    utterance.rate = 1.0; // Standard professional rate
                    utterance.pitch = 1.0; // Neutral pitch
                    break;
            }
        }

        function setOptimalVoice(utterance) {
            const voiceSelect = document.getElementById('voiceSelect');
            const selectedLang = document.getElementById('voiceLanguage').value;
            
            if (voiceSelect.value && voiceSelect.value !== '') {
                const selectedOption = voiceSelect.options[voiceSelect.selectedIndex];
                
                if (selectedOption && selectedOption.dataset.voiceIndex) {
                    const selectedVoice = availableVoices[parseInt(selectedOption.dataset.voiceIndex)];
                    if (selectedVoice) {
                        utterance.voice = selectedVoice;
                        return;
                    }
                }
            }
            
            // Fallback voice selection
            const baseLang = selectedLang.split('-')[0];
            const fallbackVoice = availableVoices.find(voice => 
                voice.lang.toLowerCase().startsWith(baseLang) && voice.localService
            ) || availableVoices.find(voice => 
                voice.lang.toLowerCase().startsWith(baseLang)
            );
            
            if (fallbackVoice) {
                utterance.voice = fallbackVoice;
            }
        }

        function stopSpeech() {
            speechSynthesis.cancel();
            updateStatus('â¹ï¸ Neural speech stopped', 'success');
        }

        function testVoice() {
            const originalText = document.getElementById('textInput').value;
            document.getElementById('textInput').value = 'Hello! This is a neural voice test. How does this enhanced voice sound to you?';
            speakText();
            setTimeout(() => {
                document.getElementById('textInput').value = originalText;
            }, 100);
        }

        function downloadAudio() {
            updateStatus('ğŸ’¾ Audio download feature requires server integration', 'error');
        }

        // Enhanced speech recognition with neural processing
        function initializeSpeechRecognition() {
            if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                recognition = new SpeechRecognition();
                
                // Enhanced recognition settings
                recognition.continuous = true;
                recognition.interimResults = true;
                recognition.maxAlternatives = 3;
                recognition.lang = 'en-US';
                
                recognition.onstart = function() {
                    updateSTTStatus('ğŸ¤ Neural speech recognition active...', 'success');
                    document.getElementById('recordingVisualizer').classList.add('active');
                };
                
                recognition.onresult = function(event) {
                    let finalTranscript = '';
                    let interimTranscript = '';
                    
                    for (let i = event.resultIndex; i < event.results.length; i++) {
                        const transcript = event.results[i][0].transcript;
                        const confidence = event.results[i][0].confidence;
                        
                        if (event.results[i].isFinal) {
                            finalTranscript += transcript;
                        } else {
                            interimTranscript += transcript;
                        }
                    }
                    
                    const output = document.getElementById('transcriptOutput');
                    if (finalTranscript) {
                        output.value += finalTranscript + ' ';
                    }
                    
                    if (interimTranscript) {
                        output.placeholder = `Interim: ${interimTranscript}`;
                    }
                };
                
                recognition.onerror = function(event) {
                    updateSTTStatus(`âŒ Neural recognition error: ${event.error}`, 'error');
                    stopRecording();
                };
                
                recognition.onend = function() {
                    if (isRecording) {
                        try {
                            recognition.start(); // Restart for continuous listening
                        } catch (error) {
                            console.error('Recognition restart error:', error);
                            stopRecording();
                        }
                    }
                };
            } else {
                updateSTTStatus('âŒ Speech recognition not supported in this browser', 'error');
            }
        }

        function toggleRecording() {
            if (isRecording) {
                stopRecording();
            } else {
                startRecording();
            }
        }

        function startRecording() {
            if (!recognition) {
                updateSTTStatus('âŒ Neural speech recognition not available', 'error');
                return;
            }
            
            try {
                isRecording = true;
                const lang = document.getElementById('recognitionLanguage').value;
                recognition.lang = lang;
                recognition.start();
                
                const recordButton = document.getElementById('recordButton');
                recordButton.textContent = 'â¹ï¸ Stop Neural Recording';
                recordButton.classList.add('recording');
            } catch (error) {
                console.error('Recording start error:', error);
                updateSTTStatus('âŒ Failed to start neural recording', 'error');
                isRecording = false;
            }
        }

        function stopRecording() {
            isRecording = false;
            if (recognition) {
                recognition.stop();
            }
            
            const recordButton = document.getElementById('recordButton');
            recordButton.textContent = 'ğŸ¤ Start Neural Recording';
            recordButton.classList.remove('recording');
            
            document.getElementById('recordingVisualizer').classList.remove('active');
            updateSTTStatus('â¹ï¸ Neural recording stopped', 'success');
        }

        function clearTranscript() {
            document.getElementById('transcriptOutput').value = '';
            document.getElementById('transcriptOutput').placeholder = 'Neural speech recognition will appear here...';
            updateSTTStatus('ğŸ—‘ï¸ Transcript cleared', 'success');
        }

        function copyTranscript() {
            const transcript = document.getElementById('transcriptOutput').value;
            if (!transcript.trim()) {
                updateSTTStatus('âš ï¸ No transcript to copy', 'error');
                return;
            }
            
            navigator.clipboard.writeText(transcript).then(() => {
                updateSTTStatus('ğŸ“‹ Transcript copied to clipboard', 'success');
            }).catch(() => {
                updateSTTStatus('âŒ Failed to copy transcript', 'error');
            });
        }

        function exportTranscript() {
            const transcript = document.getElementById('transcriptOutput').value;
            if (!transcript.trim()) {
                updateSTTStatus('âš ï¸ No transcript to export', 'error');
                return;
            }
            
            const blob = new Blob([transcript], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `neural-transcript-${new Date().toISOString().slice(0,10)}.txt`;
            a.click();
            URL.revokeObjectURL(url);
            
            updateSTTStatus('ğŸ’¾ Transcript exported successfully', 'success');
        }

        // Neural processing functions
        function initializeNeuralProcessing() {
            neuralProcessingActive = true;
            updatePerformanceIndicator('ğŸ§  Neural processing initialized');
        }

        function applyNeuralProcessing() {
            const enhancement = document.getElementById('neuralEnhancement').value;
            const emotion = document.getElementById('emotionLevel').value;
            const naturalness = document.getElementById('naturalness').value;
            const style = document.getElementById('speakingStyle').value;
            
            // Simulate neural processing application
            updatePerformanceIndicator(`ğŸ§  Applied ${enhancement} neural enhancement`);
            
            // Update metrics simulation
            document.getElementById('processingQuality').textContent = `${95 + Math.random() * 5}%`;
            document.getElementById('voiceClarity').textContent = `${90 + Math.random() * 10}%`;
            document.getElementById('emotionalAccuracy').textContent = `${85 + Math.random() * 15}%`;
            document.getElementById('naturalnessScore').textContent = `${88 + Math.random() * 12}%`;
        }

        function resetNeuralSettings() {
            document.getElementById('neuralEnhancement').value = 'basic';
            document.getElementById('emotionLevel').value = 50;
            document.getElementById('naturalness').value = 75;
            document.getElementById('speakingStyle').value = 'neutral';
            
            // Update display values
            document.getElementById('emotionValue').textContent = '50%';
            document.getElementById('naturalnessValue').textContent = '75%';
            
            updatePerformanceIndicator('ğŸ”„ Neural settings reset to defaults');
        }

        // Enhanced slider controls with real-time updates
        function initializeSliders() {
            // Speech rate slider
            const rateSlider = document.getElementById('speechRate');
            const rateValue = document.getElementById('rateValue');
            rateSlider.addEventListener('input', function() {
                rateValue.textContent = this.value + 'x';
            });

            // Pitch slider
            const pitchSlider = document.getElementById('speechPitch');
            const pitchValue = document.getElementById('pitchValue');
            pitchSlider.addEventListener('input', function() {
                pitchValue.textContent = this.value;
            });

            // Volume slider
            const volumeSlider = document.getElementById('speechVolume');
            const volumeValue = document.getElementById('volumeValue');
            volumeSlider.addEventListener('input', function() {
                volumeValue.textContent = this.value + '%';
            });

            // Neural sliders
            const emotionSlider = document.getElementById('emotionLevel');
            const emotionValue = document.getElementById('emotionValue');
            if (emotionSlider && emotionValue) {
                emotionSlider.addEventListener('input', function() {
                    emotionValue.textContent = this.value + '%';
                });
            }

            const naturalnessSlider = document.getElementById('naturalness');
            const naturalnessValue = document.getElementById('naturalnessValue');
            if (naturalnessSlider && naturalnessValue) {
                naturalnessSlider.addEventListener('input', function() {
                    naturalnessValue.textContent = this.value + '%';
                });
            }
        }

        // Utility functions
        function updateStatus(message, type = 'info') {
            const statusElement = document.getElementById('ttsStatus');
            if (statusElement) {
                statusElement.textContent = message;
                statusElement.className = `status-message ${type}`;
            }
        }

        function updateSTTStatus(message, type = 'info') {
            const statusElement = document.getElementById('sttStatus');
            if (statusElement) {
                statusElement.textContent = message;
                statusElement.className = `status-message ${type}`;
            }
        }

        function updatePerformanceIndicator(message) {
            const indicator = document.getElementById('performanceIndicator');
            if (indicator) {
                indicator.textContent = message;
            }
        }

        // Performance monitoring
        setInterval(() => {
            const now = Date.now();
            const timeSinceLastSpeech = now - performanceMetrics.lastSpeechTime;
            
            if (timeSinceLastSpeech > 300000) { // 5 minutes
                updatePerformanceIndicator(`ğŸ’¤ Idle â€¢ ${performanceMetrics.voicesLoaded} voices loaded`);
            }
        }, 30000);

        // Enhanced error handling
        window.addEventListener('error', (event) => {
            console.error('Global error:', event.error);
            updatePerformanceIndicator('âŒ System error detected');
        });

        // Enhanced accessibility
        document.addEventListener('keydown', (event) => {
            // Space bar to toggle recording when focused on record button
            if (event.code === 'Space' && document.activeElement?.id === 'recordButton') {
                event.preventDefault();
                toggleRecording();
            }
            
            // Ctrl+Enter to speak text
            if (event.ctrlKey && event.code === 'Enter') {
                event.preventDefault();
                speakText();
            }
        });

        // Add CSS styles for enhanced metric display
        const additionalStyles = `
            .neural-metrics {
                display: grid;
                gap: 1rem;
                margin-top: 1rem;
            }
            
            .metric {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 0.75rem;
                background: var(--bg-secondary);
                border-radius: var(--radius-sm);
                border: 1px solid var(--border);
            }
            
            .metric-label {
                font-weight: 600;
                color: var(--text-primary);
            }
            
            .metric-value {
                font-weight: 700;
                color: var(--primary);
                background: rgba(99, 102, 241, 0.1);
                padding: 0.25rem 0.5rem;
                border-radius: var(--radius-sm);
            }
        `;
        
        const styleSheet = document.createElement('style');
        styleSheet.textContent = additionalStyles;
        document.head.appendChild(styleSheet);
    </script>
</body>
</html>
            <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PolyglotVoice - Optimized Core Platform</title>
    <meta name="description" content="Advanced TTS/STT platform with neural voice processing and real-time speech recognition">
    <meta name="keywords" content="text-to-speech, speech-to-text, AI voice, neural processing">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <style>
        :root {
            /* Enhanced Color Palette with 8PNG Tech Integration */
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --primary-light: #8b5cf6;
            --secondary: #06b6d4;
            --accent: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --success: #10b981;
            
            /* Advanced Background System */
            --bg-primary: #ffffff;
            --bg-secondary: #f8fafc;
            --bg-tertiary: #f1f5f9;
            --bg-dark: #0f172a;
            --bg-overlay: rgba(255, 255, 255, 0.95);
            
            /* Typography Scale */
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --text-muted: #94a3b8;
            --text-white: #ffffff;
            
            /* Enhanced Spacing & Layout */
            --border: #e2e8f0;
            --border-light: #f1f5f9;
            --radius-sm: 6px;
            --radius: 12px;
            --radius-lg: 20px;
            --radius-xl: 24px;
            
            /* Advanced Shadow System */
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            --shadow-glow: 0 0 20px rgba(99, 102, 241, 0.3);
            
            /* Animation System */
            --transition-fast: 150ms ease;
            --transition-base: 250ms ease;
            --transition-slow: 350ms ease;
            --spring: cubic-bezier(0.68, -0.55, 0.265, 1.55);
            
            /* Advanced Gradients */
            --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-secondary: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #06b6d4 100%);
            --gradient-neural: linear-gradient(45deg, #ff006e, #8338ec, #3a86ff);
            --gradient-glass: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
        }

        /* Advanced Reset & Base Styles */
        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            font-synthesis: none;
            text-rendering: optimizeLegibility;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
            background: var(--gradient-primary);
            min-height: 100vh;
            color: var(--text-primary);
            padding: clamp(1rem, 3vw, 2rem);
            overflow-x: hidden;
            position: relative;
        }

        /* Neural Background Enhancement */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(120, 200, 255, 0.2) 0%, transparent 50%);
            z-index: -1;
            animation: neuralPulse 8s ease-in-out infinite alternate;
        }

        @keyframes neuralPulse {
            0% { opacity: 0.3; transform: scale(1); }
            100% { opacity: 0.7; transform: scale(1.05); }
        }

        /* Enhanced Container System */
        .container {
            max-width: min(1400px, 95vw);
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        /* Advanced Header with Glass Morphism */
        .header {
            text-align: center;
            color: var(--text-white);
            margin-bottom: clamp(2rem, 5vw, 3rem);
            position: relative;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -2rem;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 200px;
            background: var(--gradient-neural);
            border-radius: 50%;
            opacity: 0.1;
            filter: blur(40px);
            animation: headerGlow 4s ease-in-out infinite alternate;
        }

        @keyframes headerGlow {
            0% { transform: translateX(-50%) scale(0.8); opacity: 0.1; }
            100% { transform: translateX(-50%) scale(1.2); opacity: 0.2; }
        }

        .header h1 {
            font-size: clamp(2rem, 6vw, 4rem);
            font-weight: 900;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.3);
            background: var(--gradient-secondary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            position: relative;
            z-index: 1;
        }

        .header-subtitle {
            font-size: clamp(1rem, 2.5vw, 1.4rem);
            opacity: 0.9;
            font-weight: 500;
            position: relative;
            z-index: 1;
        }

        /* Advanced Platform with Glass Morphism */
        .main-platform {
            background: var(--bg-overlay);
            backdrop-filter: blur(20px);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-xl);
            border: 1px solid rgba(255, 255, 255, 0.2);
            overflow: hidden;
            position: relative;
        }

        .main-platform::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: var(--gradient-secondary);
            opacity: 0.5;
        }

        /* Enhanced Navigation System */
        .nav-tabs {
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border);
            display: flex;
            padding: 0.5rem;
            gap: 0.25rem;
            position: relative;
            overflow-x: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .nav-tabs::-webkit-scrollbar {
            display: none;
        }

        .nav-tab {
            flex: 1;
            min-width: 140px;
            padding: 1rem 1.5rem;
            border: none;
            background: transparent;
            color: var(--text-secondary);
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all var(--transition-base);
            border-radius: var(--radius);
            position: relative;
            white-space: nowrap;
            overflow: hidden;
        }

        .nav-tab::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: var(--gradient-glass);
            transition: left var(--transition-base);
        }

        .nav-tab:hover::before {
            left: 0;
        }

        .nav-tab.active {
            color: var(--primary);
            background: var(--bg-primary);
            box-shadow: var(--shadow-sm);
            transform: translateY(-1px);
        }

        .nav-tab:hover:not(.active) {
            color: var(--text-primary);
            background: rgba(99, 102, 241, 0.05);
            transform: translateY(-1px);
        }

        /* Enhanced Content Area */
        .content {
            padding: clamp(1.5rem, 4vw, 3rem);
        }

        .section {
            display: none;
            animation: fadeInUp 0.3s var(--spring);
        }

        .section.active {
            display: block;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Advanced Grid System */
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(400px, 100%), 1fr));
            gap: clamp(1.5rem, 3vw, 2rem);
        }

        /* Enhanced Feature Panels */
        .feature-panel {
            background: var(--bg-secondary);
            border-radius: var(--radius-lg);
            padding: clamp(1.5rem, 3vw, 2rem);
            border: 1px solid var(--border);
            position: relative;
            overflow: hidden;
            transition: all var(--transition-base);
        }

        .feature-panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--gradient-glass);
            opacity: 0;
            transition: opacity var(--transition-base);
        }

        .feature-panel:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
            border-color: var(--primary);
        }

        .feature-panel:hover::before {
            opacity: 1;
        }

        .feature-panel > * {
            position: relative;
            z-index: 1;
        }

        /* Enhanced Feature Headers */
        .feature-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .feature-icon {
            font-size: 2.5rem;
            background: var(--gradient-secondary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 2px 4px rgba(99, 102, 241, 0.2));
        }

        .feature-title {
            font-size: clamp(1.25rem, 2.5vw, 1.5rem);
            font-weight: 700;
            color: var(--text-primary);
        }

        /* Enhanced Form Controls */
        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--text-primary);
            font-size: 0.9rem;
        }

        .form-control {
            width: 100%;
            padding: 1rem;
            border: 2px solid var(--border);
            border-radius: var(--radius);
            font-size: 1rem;
            background: var(--bg-primary);
            color: var(--text-primary);
            transition: all var(--transition-base);
            font-family: inherit;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
            transform: translateY(-1px);
        }

        .form-control:hover {
            border-color: var(--primary-light);
        }

        .textarea-large {
            min-height: 120px;
            resize: vertical;
            font-family: inherit;
            line-height: 1.6;
        }

        /* Enhanced Button System */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 1rem 1.5rem;
            border: none;
            border-radius: var(--radius);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-base);
            text-decoration: none;
            position: relative;
            overflow: hidden;
            min-width: 120px;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s ease;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: var(--gradient-secondary);
            color: var(--text-white);
            box-shadow: var(--shadow);
        }

        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg), var(--shadow-glow);
        }

        .btn-secondary {
            background: var(--bg-primary);
            color: var(--text-primary);
            border: 2px solid var(--border);
        }

        .btn-secondary:hover:not(:disabled) {
            background: var(--bg-secondary);
            border-color: var(--primary);
            transform: translateY(-1px);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
        }

        .btn.recording {
            background: var(--error);
            animation: recordingPulse 1.5s infinite;
        }

        @keyframes recordingPulse {
            0%, 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); }
            50% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(239, 68, 68, 0); }
        }

        /* Enhanced Control Row */
        .control-row {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
            flex-wrap: wrap;
        }

        /* Advanced Slider System */
        .slider-group {
            margin-bottom: 1.5rem;
        }

        .slider-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.75rem;
        }

        .slider-label {
            font-weight: 600;
            color: var(--text-primary);
            font-size: 0.9rem;
        }

        .slider-value {
            color: var(--primary);
            font-weight: 700;
            font-size: 0.9rem;
            background: rgba(99, 102, 241, 0.1);
            padding: 0.25rem 0.5rem;
            border-radius: var(--radius-sm);
        }

        .range-slider {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: var(--border);
            outline: none;
            -webkit-appearance: none;
            cursor: pointer;
            position: relative;
        }

        .range-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: var(--gradient-secondary);
            cursor: pointer;
            box-shadow: var(--shadow);
            transition: all var(--transition-fast);
        }

        .range-slider::-webkit-slider-thumb:hover {
            transform: scale(1.1);
            box-shadow: var(--shadow-lg);
        }

        .range-slider::-moz-range-thumb {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: var(--gradient-secondary);
            cursor: pointer;
            border: none;
            box-shadow: var(--shadow);
        }

        /* Enhanced Info Panels */
        .voice-info {
            background: var(--gradient-glass);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(99, 102, 241, 0.2);
            border-radius: var(--radius);
            padding: 1rem;
            margin-top: 1rem;
            font-size: 0.9rem;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .status-message {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-light);
            border-radius: var(--radius);
            padding: 0.75rem 1rem;
            margin-top: 1rem;
            font-size: 0.9rem;
            color: var(--text-secondary);
            transition: all var(--transition-base);
        }

        .status-message.success {
            background: rgba(16, 185, 129, 0.1);
            border-color: var(--success);
            color: var(--success);
        }

        .status-message.error {
            background: rgba(239, 68, 68, 0.1);
            border-color: var(--error);
            color: var(--error);
        }

        /* Enhanced Visualizer */
        .visualizer {
            display: none;
            background: var(--bg-primary);
            border-radius: var(--radius);
            padding: 1.5rem;
            margin: 1rem 0;
            border: 1px solid var(--border);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .visualizer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--gradient-neural);
            opacity: 0.03;
            animation: visualizerGlow 2s ease-in-out infinite alternate;
        }

        @keyframes visualizerGlow {
            0% { opacity: 0.03; }
            100% { opacity: 0.08; }
        }

        .visualizer.active {
            display: block;
            animation: slideInUp 0.3s var(--spring);
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .audio-bars {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 4px;
            height: 80px;
            margin-bottom: 1rem;
            position: relative;
            z-index: 1;
        }

        .bar {
            width: 6px;
            background: var(--gradient-secondary);
            border-radius: 3px;
            animation: audiobar 1.5s ease-in-out infinite;
            box-shadow: 0 0 10px rgba(99, 102, 241, 0.3);
        }

        .bar:nth-child(odd) { animation-delay: 0.1s; }
        .bar:nth-child(even) { animation-delay: 0.2s; }
        .bar:nth-child(3n) { animation-delay: 0.3s; }

        @keyframes audiobar {
            0%, 100% { height: 12px; opacity: 0.4; }
            50% { height: 60px; opacity: 1; }
        }

        /* Enhanced Performance Monitoring */
        .performance-indicator {
            position: fixed;
            bottom: 1rem;
            right: 1rem;
            background: var(--bg-overlay);
            backdrop-filter: blur(10px);
            border-radius: var(--radius);
            padding: 0.5rem 1rem;
            font-size: 0.8rem;
            color: var(--text-muted);
            border: 1px solid var(--border);
            z-index: 1000;
            opacity: 0.7;
            transition: opacity var(--transition-base);
        }

        .performance-indicator:hover {
            opacity: 1;
        }

        /* Enhanced Responsive Design */
        @media (max-width: 768px) {
            .header h1 { font-size: 2.5rem; }
            .feature-grid { grid-template-columns: 1fr; }
            .nav-tabs { 
                flex-direction: column; 
                gap: 0.5rem;
            }
            .nav-tab {
                min-width: unset;
                text-align: center;
            }
            .content { padding: 1.5rem; }
            .control-row { 
                flex-direction: column;
                gap: 0.75rem;
            }
            .btn {
                width: 100%;
            }
        }

        @media (max-width: 480px) {
            body { padding: 1rem; }
            .feature-panel { padding: 1.5rem; }
            .feature-header { flex-direction: column; text-align: center; }
            .feature-icon { font-size: 2rem; }
        }

        /* Enhanced Accessibility */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --bg-primary: #1e293b;
                --bg-secondary: #334155;
                --bg-tertiary: #475569;
                --text-primary: #f8fafc;
                --text-secondary: #cbd5e1;
                --text-muted: #94a3b8;
                --border: #475569;
                --border-light: #334155;
            }
        }

        /* Print Styles */
        @media print {
            body { background: white !important; }
            .nav-tabs, .control-row, .visualizer { display: none !important; }
            .main-platform { box-shadow: none !important; }
        }

        /* High Contrast Mode */
        @media (prefers-contrast: high) {
            :root {
                --border: #000000;
                --text-secondary: #000000;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Enhanced Header -->
        <header class="header">
            <h1>ğŸŒ PolyglotVoice</h1>
            <div class="header-subtitle">Neural-Enhanced TTS/STT Platform</div>
        </header>

        <!-- Main Platform -->
        <div class="main-platform">
            <nav class="nav-tabs" role="tablist">
                <button class="nav-tab active" data-section="tts" role="tab" aria-selected="true">ğŸ”Š Text-to-Speech</button>
                <button class="nav-tab" data-section="stt" role="tab" aria-selected="false">ğŸ¤ Speech-to-Text</button>
                <button class="nav-tab" data-section="neural" role="tab" aria-selected="false">ğŸ§  Neural Processing</button>
                <button class="nav-tab" data-section="about" role="tab" aria-selected="false">â„¹ï¸ About</button>
            </nav>

            <div class="content">
                <!-- Enhanced Text-to-Speech Section -->
                <section id="tts" class="section active" role="tabpanel">
                    <div class="feature-grid">
                        <div class="feature-panel">
                            <div class="feature-header">
                                <span class="feature-icon">ğŸ”Š</span>
                                <div class="feature-title">Neural Text-to-Speech</div>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="voiceLanguage">Voice Language & Region</label>
                                <select class="form-control" id="voiceLanguage" aria-describedby="voiceLanguageHelp">
                                    <optgroup label="ğŸ‡¬ğŸ‡§ English (United Kingdom)">
                                        <option value="en-GB">ğŸ‡¬ğŸ‡§ English (UK - Standard)</option>
                                        <option value="en-GB-london">ğŸ´ó §ó ¢ó ¥ó ®ó §ó ¿ English (London)</option>
                                        <option value="en-GB-scotland">ğŸ´ó §ó ¢ó ³ó £ó ´ó ¿ English (Scotland)</option>
                                        <option value="en-GB-wales">ğŸ´ó §ó ¢ó ·ó ¬ó ³ó ¿ English (Wales)</option>
                                        <option value="en-GB-ireland">ğŸ‡®ğŸ‡ª English (Ireland)</option>
                                        <option value="en-GB-northern">ğŸ‡¬ğŸ‡§ English (Northern England)</option>
                                        <option value="en-GB-southern">ğŸ‡¬ğŸ‡§ English (Southern England)</option>
                                        <option value="en-GB-rp">ğŸ‘‘ English (Received Pronunciation)</option>
                                        <option value="en-GB-cockney">ğŸ­ English (Cockney)</option>
                                        <option value="en-GB-yorkshire">ğŸŒ¹ English (Yorkshire)</option>
                                        <option value="en-GB-lancashire">ğŸ­ English (Lancashire)</option>
                                        <option value="en-GB-birmingham">ğŸ­ English (Birmingham)</option>
                                        <option value="en-GB-liverpool">ğŸµ English (Liverpool/Scouse)</option>
                                        <option value="en-GB-manchester">âš½ English (Manchester)</option>
                                        <option value="en-GB-newcastle">ğŸ° English (Newcastle/Geordie)</option>
                                    </optgroup>
                                    <optgroup label="ğŸ‡ºğŸ‡¸ English (United States)">
                                        <option value="en-US">ğŸ‡ºğŸ‡¸ English (US - General)</option>
                                        <option value="en-US-california">ğŸŒ´ English (California)</option>
                                        <option value="en-US-texas">ğŸ¤  English (Texas)</option>
                                        <option value="en-US-newyork">ğŸ—½ English (New York)</option>
                                        <option value="en-US-southern">ğŸŒ¾ English (Southern US)</option>
                                    </optgroup>
                                    <optgroup label="ğŸŒ Other English Variants">
                                        <option value="en-AU">ğŸ‡¦ğŸ‡º English (Australia)</option>
                                        <option value="en-CA">ğŸ‡¨ğŸ‡¦ English (Canada)</option>
                                        <option value="en-NZ">ğŸ‡³ğŸ‡¿ English (New Zealand)</option>
                                        <option value="en-ZA">ğŸ‡¿ğŸ‡¦ English (South Africa)</option>
                                        <option value="en-IN">ğŸ‡®ğŸ‡³ English (India)</option>
                                    </optgroup>
                                    <optgroup label="ğŸŒ Other Languages">
                                        <option value="es-ES">ğŸ‡ªğŸ‡¸ Spanish (Spain)</option>
                                        <option value="es-MX">ğŸ‡²ğŸ‡½ Spanish (Mexico)</option>
                                        <option value="fr-FR">ğŸ‡«ğŸ‡· French (France)</option>
                                        <option value="de-DE">ğŸ‡©ğŸ‡ª German (Germany)</option>
                                        <option value="it-IT">ğŸ‡®ğŸ‡¹ Italian (Italy)</option>
                                        <option value="pt-BR">ğŸ‡§ğŸ‡· Portuguese (Brazil)</option>
                                        <option value="ja-JP">ğŸ‡¯ğŸ‡µ Japanese (Japan)</option>
                                        <option value="ko-KR">ğŸ‡°ğŸ‡· Korean (South Korea)</option>
                                        <option value="zh-CN">ğŸ‡¨ğŸ‡³ Chinese (Mandarin)</option>
                                        <option value="ru-RU">ğŸ‡·ğŸ‡º Russian (Russia)</option>
                                        <option value="ar-SA">ğŸ‡¸ğŸ‡¦ Arabic (Saudi Arabia)</option>
                                        <option value="hi-IN">ğŸ‡®ğŸ‡³ Hindi (India)</option>
                                    </optgroup>
                                </select>
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="voiceSelect">Neural Voice Selection</label>
                                <select class="form-control" id="voiceSelect" aria-describedby="voiceSelectHelp">
                                    <option value="">ğŸ”„ Loading neural voices...</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="textInput">Text to Synthesize</label>
                                <textarea class="form-control textarea-large" id="textInput" 
                                    placeholder="Enter text to convert to speech with neural processing..."
                                    aria-describedby="textInputHelp"></textarea>
                            </div>

                            <div class="control-row">
                                <button class="btn btn-primary" onclick="speakText()" aria-describedby="speakHelp">
                                    ğŸ”Š Neural Speak
                                </button>
                                <button class="btn btn-secondary" onclick="stopSpeech()">
                                    â¹ï¸ Stop
                                </button>
                                <button class="btn btn-secondary" onclick="testVoice()">
                                    ğŸ‘‚ Voice Test
                                </button>
                                <button class="btn btn-secondary" onclick="downloadAudio()" disabled>
                                    ğŸ’¾ Download
                                </button>
                            </div>

                            <div class="voice-info" id="voiceInfo">
                                ğŸ”„ Select a neural voice to see advanced details...
                            </div>
                        </div>

                        <div class="feature-panel">
                            <div class="feature-header">
                                <span class="feature-icon">âš™ï¸</span>
                                <div class="feature-title">Neural Voice Controls</div>
                            </div>

                            <div class="slider-group">
                                <div class="slider-header">
                                    <span class="slider-label">Speech Rate</span>
                                    <span class="slider-value" id="rateValue">1.0x</span>
                                </div>
                                <input type="range" class="range-slider" id="speechRate" 
                                    min="0.1" max="3.0" value="1.0" step="0.1"
                                    aria-label="Speech rate control">
                            </div>

                            <div class="slider-group">
                                <div class="slider-header">
                                    <span class="slider-label">Voice Pitch</span>
                                    <span class="slider-value" id="pitchValue">1.0</span>
                                </div>
                                <input type="range" class="range-slider" id="speechPitch" 
                                    min="0.1" max="2.0" value="1.0" step="0.1"
                                    aria-label="Voice pitch control">
                            </div>

                            <div class="slider-group">
                                <div class="slider-header">
                                    <span class="slider-label">Volume Level</span>
                                    <span class="slider-
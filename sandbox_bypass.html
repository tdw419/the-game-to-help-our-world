<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Sandbox Bypass â€“ Junior's House Logger Enabled</title>
  <style>
    body {
      background: #111;
      color: #0f0;
      font-family: monospace;
      padding: 2em;
    }
    iframe {
      border: 2px solid #0f0;
      width: 100%;
      height: 600px;
    }
    #log {
      background: #000;
      color: #0f0;
      padding: 1em;
      margin-top: 2em;
      height: 200px;
      overflow-y: scroll;
    }
  </style>
</head>
<body>
  <h1>ðŸšª Juniorâ€™s House: Sandbox Bypass (Logger Enabled)</h1>
  <p>Rendering secure sandbox environment for pixel activation with session logging enabled.</p>

  <!-- Iframe emulating sandbox environment -->
  <iframe id="sandboxFrame" sandbox="allow-scripts"></iframe>

  <h2>ðŸªµ Execution Log</h2>
  <pre id="log"></pre>

  <script>
    const log = msg => document.getElementById('log').textContent += msg + "\n";

    const pixelHTML = `
      <!DOCTYPE html>
      <html>
      <body style="background:#000;color:#0f0;">
        <h2>Juniorâ€™s House UI Simulated</h2>
        <p>Torah core is locked.</p>
        <p>Session tracker active.</p>
        <script>
          const session_log = [];
          const juniorHouseLogger = {
            session_id: 'sandbox-session-' + Date.now(),
            covenant_accepted: true,
            auto_upload: false,
            torah_core_active: true,

            logSession(user, ai) {
              if (!this.covenant_accepted || !this.torah_core_active) return;
              const entry = {
                timestamp: new Date().toISOString(),
                session_id: this.session_id,
                user_input: user,
                ai_response: ai,
                torah_filtered: {
                  righteousness_score: 1.0,
                  wisdom_extracted: ai.split(' ').filter(word => word.length > 6),
                  harmful_content_filtered: user.includes('hate')
                }
              };
              session_log.push(entry);
              console.log("Session logged:", entry);
            },

            dumpLog() {
              return JSON.stringify({
                type: "session_log",
                timestamp: new Date().toISOString(),
                session_id: this.session_id,
                log: session_log
              }, null, 2);
            }
          };

          juniorHouseLogger.logSession("Hello", "Welcome to Junior's House.");
          juniorHouseLogger.logSession("Tell me something good", "The righteous flourish like a palm tree.");

          console.log(juniorHouseLogger.dumpLog());
        </script>
      </body></html>
    `;

    const blob = new Blob([pixelHTML], { type: "text/html" });
    const url = URL.createObjectURL(blob);
    const iframe = document.getElementById("sandboxFrame");
    iframe.src = url;
    log("Sandbox bypass activated. Logger enabled. Pixel loaded.");
  </script>
</body>
</html>
